create or replace TABLE FIN_TRADE_EXTRACT.RAW.ETL_WATERMARKS cluster by (TABLE_NAME, LAST_SUCCESSFUL_RUN)(
	TABLE_NAME VARCHAR(100) NOT NULL,
	SYMBOL_ID NUMBER(38,0) NOT NULL,
	SYMBOL VARCHAR(20) NOT NULL,
	NAME VARCHAR(255),
	EXCHANGE VARCHAR(64),
	ASSET_TYPE VARCHAR(64),
	STATUS VARCHAR(12),
	API_ELIGIBLE VARCHAR(3) DEFAULT 'NO',
	IPO_DATE DATE,
	DELISTING_DATE DATE,
	FIRST_FISCAL_DATE DATE,
	LAST_FISCAL_DATE DATE,
	LAST_SUCCESSFUL_RUN TIMESTAMP_NTZ(9),
	CONSECUTIVE_FAILURES NUMBER(5,0) DEFAULT 0,
	CREATED_AT TIMESTAMP_NTZ(9) DEFAULT CURRENT_TIMESTAMP(),
	UPDATED_AT TIMESTAMP_NTZ(9) DEFAULT CURRENT_TIMESTAMP(),
	constraint PK_ETL_WATERMARKS primary key (TABLE_NAME, SYMBOL_ID)
)COMMENT='ETL watermarking table for tracking processing status and symbol lifecycle across all data types'
;